!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).lazyframe=t()}(this,(function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}return function(){var t,n=[],i={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(e){},onAppend:function(e){},onThumbnailLoad:function(e){}},o={regex:{youtube_nocookie:/(?:youtube-nocookie\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/},condition:{youtube:function(e){return!(!e||11!=e[1].length)&&e[1]},youtube_nocookie:function(e){return!(!e||11!=e[1].length)&&e[1]},vimeo:function(e){return!!(e&&9===e[1].length||8===e[1].length)&&e[1]}},src:{youtube:function(e){return"https://www.youtube.com/embed/".concat(e.id,"/?autoplay=").concat(e.autoplay?"1":"0","&").concat(e.query)},youtube_nocookie:function(e){return"https://www.youtube-nocookie.com/embed/".concat(e.id,"/?autoplay=").concat(e.autoplay?"1":"0","&").concat(e.query)},vimeo:function(e){return"https://player.vimeo.com/video/".concat(e.id,"/?autoplay=").concat(e.autoplay?"1":"0","&").concat(e.query)}},endpoint:function(e){return"https://noembed.com/embed?url=".concat(e.src)},response:{title:function(e){return e.title},thumbnail:function(e){return e.thumbnail_url}}};function a(e){var n=this;if(e instanceof HTMLElement!=0&&!e.classList.contains("lazyframe--loaded")){var i={el:e,settings:r(e)};i.el.addEventListener("click",(function(){i.el.appendChild(i.iframe);var t=e.querySelectorAll("iframe");i.settings.onAppend.call(n,t[0])})),t.lazyload?c(i):l(i,i.settings.thumbnail)}}function r(n){var i,a,r=Array.prototype.slice.apply(n.attributes).filter((function(e){return""!==e.value})).reduce((function(e,t){return e[0===t.name.indexOf("data-")?t.name.split("data-")[1]:t.name]=t.value,e}),{}),l=e({},t,r,{y:n.offsetTop,originalSrc:r.src,query:(i=r.src,a=i.split("?"),a[1]?a[1]:null)});if(l.vendor){var u=l.src.match(o.regex[l.vendor]);l.id=o.condition[l.vendor](u)}return l}function l(e){var t=this;!function(e){return!(!e.vendor||e.title&&e.thumbnail)}(e.settings)?c(e,!0):function(e,t){var n=o.endpoint(e.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);t(null,[n,e])}else t(!0)},i.onerror=function(){t(!0)},i.send()}(e,(function(n,i){if(!n){var a=i[0],r=i[1];if(r.settings.title||(r.settings.title=o.response.title(a)),!r.settings.thumbnail){var l=o.response.thumbnail(a);r.settings.thumbnail=l,e.settings.onThumbnailLoad.call(t,l)}c(r,!0)}}))}function u(){var e=this,i=window.innerHeight,o=n.length,a=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),o--,l(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};n.filter((function(e){return e.settings.y<i})).forEach(a);var r,u,c,s,d=(r=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter((function(e){return e.settings.y<i+f&&!1===e.settings.initialized})).forEach(a),0===o&&window.removeEventListener("scroll",d,!1)},u=t.debounce,function(){var e=this,t=arguments,n=function(){s=null,r.apply(e,t)},i=c;clearTimeout(s),s=setTimeout(n,u),i&&r.apply(e,t)}),f=0,m=!1;window.addEventListener("scroll",d,!1)}function c(e,i){if(e.iframe=function(e){var t=document.createDocumentFragment(),n=document.createElement("iframe");return e.vendor&&(e.src=o.src[e.vendor](e)),n.setAttribute("id","lazyframe-".concat(e.id)),n.setAttribute("src",e.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),e.autoplay&&(n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),t.appendChild(n),t}(e.settings),e.settings.thumbnail&&i&&(e.el.style.backgroundImage="url(".concat(e.settings.thumbnail,")")),e.settings.title&&0===e.el.children.length){var a=document.createDocumentFragment(),r=document.createElement("span");r.className="lazyframe__title",r.innerHTML=e.settings.title,a.appendChild(r),e.el.appendChild(a)}t.lazyload||(e.el.classList.add("lazyframe--loaded"),e.settings.onLoad.call(this,e),n.push(e)),e.settings.initialized||n.push(e)}return function(n){if(t=e({},i,arguments.length<=1?void 0:arguments[1]),"string"==typeof n)for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)a(o[r]);else if(void 0===n.length)a(n);else for(var l=0;l<n.length;l++)a(n[l]);t.lazyload&&u()}}()})),$(document).ready((function(){$("#burger").click((function(){$("#menu").toggleClass("active"),$("#burger").toggleClass("is-active"),$("body").toggleClass("lock"),$("#header__background").toggleClass("header__background--none")})),$(".menu__item").click((function(){$("#menu").toggleClass("active"),$("#burger").toggleClass("is-active"),$("body").toggleClass("lock")}))}));
//# sourceMappingURL=main.min.js.map
